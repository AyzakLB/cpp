#!/bin/bash

CONVERTER="./converter"

echo "========= Starting Robustness Tests ========="

# Test cases array
tests=(
    # === Chars ===
    "c"
    "a"
    " "
    # === Ints ===
    "0"
    "42"
    "-42"
    "2147483647"  # INT_MAX
    "-2147483648" # INT_MIN
    # === Floats ===
    "0.0f"
    "4.2f"
    "-4.2f"
    "nanf"
    "+inff"
    "-inff"
    # === Doubles ===
    
    "0.0"
    "4.2"
    "-4.2"
    "nan"
    "+inf"
    "-inf"
    # === Boundary/Overflow ===
    "2147483648"  # INT_MAX + 1 -> should be float/double
    "-2147483649" # INT_MIN - 1 -> should be float/double
    "340282346638528859811704183484516925440" # Approx FLT_MAX
    "-340282346638528859811704183484516925440" # Approx -FLT_MAX
    "179769313486231570814527423731704356798070567525844996598917476803157260780028538760589558632766878171540458953514382464234321326889464182768467546703537516986049910576551282076245490090389328944075868508455133942304583236903222948165808559332123348274797826204144723168738177180919299881250404026184124858368" # Approx DBL_MAX
    "-179769313486231570814527423731704356798070567525844996598917476803157260780028538760589558632766878171540458953514382464234321326889464182768467546703537516986049910576551282076245490090389328944075868508455133942304583236903222948165808559332123348274797826204144723168738177180919299881250404026184124858369" # Approx -DBL_MAX
    # === Invalid Inputs ===
    "hello"
    "1.2.3"
    "12f3"
    "--1"
    "++1"
    "1.f"
)

for test in "${tests[@]}"; do
    echo ""
    echo "-----------------------------------------"
    echo ">>> Testing input: \"$test\""
    echo "-----------------------------------------"
    $CONVERTER "$test"
done

echo ""
echo "========= Tests Finished ========="
